/*
Routine:  A program that prints a beautiful Happy New Year's message
          to the terminal using ASCII art.

Author:   DannyBimma

Date:     December, 2025.

Copyright (c) 2025 Technomancer Pirate Captain. All Rights Reserved.
*/

import Foundation

// Configuration of program values
enum Config {
    static let progressDurationMs: UInt32 = 3666
    static let progressBarWidth = 40
    static let fromYear = 2025
    static let toYear = 2026
}

// Helper functions for terminal output
enum Terminal {
    static func clearLine() {
        print("\r\u{1B}[K", terminator: "")
    }

    static func moveCursorUp(_ lines: Int) {
        print("\u{1B}[\(lines)A", terminator: "")
    }

    static func flush() {
        fflush(stdout)
    }

    static func sleep(milliseconds: UInt32) {
        usleep(milliseconds * 1000)
    }
}

// Animated ASCII progress bar logic
enum ProgressBar {
    static func display() {
        let totalSteps = Config.progressBarWidth
        let delayPerStep = Config.progressDurationMs / UInt32(totalSteps)

        print("\n  ðŸŽ„ Loading New Year...\n")

        for step in 0...totalSteps {
            let progress = Float(step) / Float(totalSteps)
            let filledCount = step
            let emptyCount = totalSteps - step

            let filled = String(repeating: "â–ˆ", count: filledCount)
            let empty = String(repeating: "â–‘", count: emptyCount)
            let percentage = Int(progress * 100)

            Terminal.clearLine()
            print(
                "  \(Config.fromYear) [\(filled)\(empty)] \(Config.toYear)  \(percentage)%",
                terminator: "")
            Terminal.flush()

            if step < totalSteps {
                Terminal.sleep(milliseconds: delayPerStep)
            }
        }

        print("\n")
    }
}

// Animated ASCII fireworks display logic
enum Fireworks {
    static let frames: [[String]] = [
        [
            "                                                                              ",
            "                                      .                                       ",
            "                                                                              ",
            "                  .                                       .                   ",
            "                                                                              ",
        ],
        [
            "                                      *                                       ",
            "                                     ***                                      ",
            "                                      *                                       ",
            "                  *                                       *                   ",
            "                 ***                                     ***                  ",
        ],
        [
            "                                     \\|/                                      ",
            "                                    --*--                                     ",
            "                                     /|\\                                      ",
            "                 \\|/                                     \\|/                  ",
            "                --*--                                   --*--                 ",
        ],
        [
            "                                   \\ | /                                      ",
            "                                  -- * --                                     ",
            "                                   / | \\                                      ",
            "               \\ | /                                   \\ | /                  ",
            "              -- * --                                 -- * --                 ",
        ],
        [
            "              *                   \\  |  /                   *                 ",
            "             *+*                 -  (*)  -                 *+*                ",
            "              *                   /  |  \\                   *                 ",
            "            \\  |  /                                     \\  |  /               ",
            "           -  (*)  -           *         *             -  (*)  -              ",
        ],
        [
            "            * \\ | / *          . \\  |  / .          * \\ | / *                 ",
            "             \\  *  /            . (*) .              \\  *  /                  ",
            "            * / | \\ *          . /  |  \\ .          * / | \\ *                 ",
            "          . \\  |  / .                             . \\  |  / .                 ",
            "           . (*) .    *    .    â˜…    .    *        . (*) .                    ",
        ],
        [
            "          *  â˜…   *  â˜…         â˜…  \\ | /  â˜…         *  â˜…   *  â˜…                 ",
            "           â˜…    â˜…              â˜…  â˜…  â˜…             â˜…    â˜…                     ",
            "          *  â˜…   *  â˜…         â˜…  / | \\  â˜…         *  â˜…   *  â˜…                 ",
            "        â˜…  \\ | /  â˜…                             â˜…  \\ | /  â˜…                   ",
            "         â˜…  â˜…  â˜…       *   â˜…   âœ¦   â˜…   *         â˜…  â˜…  â˜…                      ",
        ],
        [
            "        âœ¦ Â·  â˜…  Â· âœ¦         Â·  âœ¦  â˜…  âœ¦  Â·         âœ¦ Â·  â˜…  Â· âœ¦                 ",
            "         Â· âœ¦ Â· âœ¦ Â·           Â·  Â·âœ¦Â·  Â·             Â· âœ¦ Â· âœ¦ Â·                  ",
            "        âœ¦ Â·  â˜…  Â· âœ¦         Â·  âœ¦  â˜…  âœ¦  Â·         âœ¦ Â·  â˜…  Â· âœ¦                 ",
            "      Â·  âœ¦  â˜…  âœ¦  Â·                             Â·  âœ¦  â˜…  âœ¦  Â·                 ",
            "       Â·  Â·âœ¦Â·  Â·      Â·  âœ¦  âœ§  â˜…  âœ§  âœ¦  Â·        Â·  Â·âœ¦Â·  Â·                    ",
        ],
        [
            "      Â·   Â·   Â·   Â·       Â·   Â·   Â·   Â·   Â·       Â·   Â·   Â·   Â·               ",
            "        Â·   Â·   Â·           Â·   Â·   Â·               Â·   Â·   Â·                 ",
            "      Â·   Â·   Â·   Â·       Â·   Â·   Â·   Â·   Â·       Â·   Â·   Â·   Â·               ",
            "    Â·   Â·   Â·   Â·   Â·                           Â·   Â·   Â·   Â·   Â·             ",
            "      Â·   Â·   Â·   Â·   Â·   Â·   Â·   Â·   Â·   Â·   Â·   Â·   Â·   Â·   Â·              ",
        ],
    ]

    static func display() {
        let frameDelay: UInt32 = 200
        let frameCount = frames.count

        for frame in frames {
            for line in frame {
                print(line)
            }
            Terminal.flush()
            Terminal.sleep(milliseconds: frameDelay)

            if frame != frames.last {
                Terminal.moveCursorUp(frameCount)
            }
        }

        print()
    }
}

// Display ASCII art text

enum ASCIIArt {
    static let happyNewYear = """

         â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
         â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•
         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
         â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•â•   â•šâ–ˆâ–ˆâ•”â•
         â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘        â–ˆâ–ˆâ•‘
         â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•        â•šâ•â•

         â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—
         â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘
         â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘
         â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘
         â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•
         â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•šâ•â•â•

         â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
         â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
          â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
           â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
            â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
            â•šâ•â•   â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•

        """

    static let fullyLoaded = """
          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
          â•šâ•â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ•â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•
           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
          â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—
          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
          â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â•

        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
        â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•
        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
        â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ•”â•
        â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘
        â•šâ•â•      â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•

        â–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
        â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
        â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
        â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
        â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•
        """

    static func display() {
        print(happyNewYear)
        Terminal.sleep(milliseconds: 500)
        print(fullyLoaded)
    }
}

// Display footer decor
enum Decorations {
    static let sparkles = """

        âœ¨ ðŸŽ† ðŸŽ‡ ðŸ¥³ ðŸŽ‰ ðŸ¾ ðŸ¥‚ ðŸŽŠ ðŸŽ‡ ðŸŽ† âœ¨

        """

    static func display() {
        print(sparkles)
    }
}

// Main
ProgressBar.display()
Fireworks.display()
ASCIIArt.display()
Decorations.display()
